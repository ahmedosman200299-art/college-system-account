<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„Ù…ÙˆØ­Ø¯ 2026 | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</title>
    <style>
        :root { --dark: #0f172a; --gold: #d4af37; --bg: #f8fafc; --success: #10b981; --danger: #e11d48; --white: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--bg); display: flex; min-height: 100vh; }
        #loader { position: fixed; inset: 0; background: rgba(255,255,255,0.9); display: none; justify-content: center; align-items: center; z-index: 30000; flex-direction: column; }
        #receipt-print { display: none; }
        @media print {
            body * { visibility: hidden; }
            #receipt-print, #receipt-print * { visibility: visible; }
            #receipt-print { display: block; position: absolute; inset: 0; padding: 40px; background: white; border: 2px solid #000; }
        }
        .sidebar { width: 280px; background: var(--dark); color: white; height: 100vh; position: fixed; right: 0; display: flex; flex-direction: column; z-index: 1000; }
        .sidebar-header { padding: 30px; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1); color: var(--gold); font-size: 1.4rem; font-weight: bold; }
        .nav-item { padding: 18px 25px; cursor: pointer; transition: 0.3s; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: var(--gold); padding-right: 35px; }
        .main-content { margin-right: 280px; padding: 40px; width: calc(100% - 280px); }
        .section { background: var(--white); border-radius: 15px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-bottom: 30px; border: 1px solid #e2e8f0; }
        input, select { padding: 12px; margin: 10px 0; border: 1px solid #cbd5e1; border-radius: 8px; width: 100%; font-size: 1rem; }
        .btn { padding: 12px 25px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; transition: 0.3s; display: inline-flex; align-items: center; gap: 8px; justify-content: center; }
        .btn-gold { background: var(--gold); color: var(--dark); }
        .btn-dark { background: var(--dark); color: white; }
        .btn-outline { background: transparent; border: 1px solid #cbd5e1; color: var(--dark); }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 15px; border: 1px solid #e2e8f0; text-align: center; }
        th { background: #f1f5f9; }
        .status-badge { padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: bold; }
        .bg-success { background: #dcfce7; color: #166534; }
        .bg-danger { background: #fee2e2; color: #991b1b; }
        .hidden { display: none !important; }
        #toast { position: fixed; bottom: 30px; left: 30px; background: var(--dark); color: white; padding: 20px 30px; border-radius: 12px; display: none; z-index: 40000; border-right: 6px solid var(--gold); }
    </style>
</head>
<body>

<div id="loader"><h2>ğŸ”„ Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø­Ø§Ø¨ÙŠØ§Ù‹...</h2></div>
<div id="toast"></div>

<div id="auth-screen" style="position:fixed; inset:0; background:var(--dark); display:flex; justify-content:center; align-items:center; z-index:20000;">
    <div style="background:white; padding:40px; border-radius:20px; width:450px; text-align:center;">
        <h2 style="color:var(--dark);">Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„Ù…ÙˆØ­Ø¯ 2026</h2>
        <input type="email" id="auth-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        <input type="password" id="auth-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
        <button class="btn btn-gold" style="width:100%; margin-top:10px;" onclick="handleLogin()">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…</button>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:15px;">
            <button class="btn btn-outline" onclick="requestNewAccount()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
            <button class="btn btn-outline" onclick="forgotPassword()">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ØŸ</button>
        </div>
    </div>
</div>

<div id="receipt-print">
    <div style="text-align: center; border-bottom: 4px double #000; padding-bottom: 20px;">
        <h2>Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠØ© - Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©</h2>
        <h3 id="print-title">Ø¥ÙŠØµØ§Ù„ Ù…Ø§Ù„ÙŠ ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„</h3>
    </div>
    <div id="print-content" style="padding: 30px; line-height: 2;"></div>
</div>

<div class="sidebar hidden" id="sidebar">
    <div class="sidebar-header">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… 2026</div>
    <div class="nav-item" onclick="showSec('home')">ğŸ  Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
    <div class="nav-item hidden" id="nav-reg" onclick="showSec('registrar')">ğŸ‘¤ Ø´Ø¤ÙˆÙ† Ø§Ù„Ø·Ù„Ø§Ø¨ (Ø§Ù„Ù…Ø³Ø¬Ù„)</div>
    <div class="nav-item hidden" id="nav-fin" onclick="showSec('finance')">ğŸ’° Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</div>
    <div class="nav-item hidden" id="nav-admin" onclick="showSec('admin-settings')">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… (Ø§Ù„Ø£Ø¯Ù…Ù†)</div>
    <div class="nav-item" style="margin-top:auto; color:var(--danger)" onclick="location.reload()">ğŸšª Ø®Ø±ÙˆØ¬</div>
</div>

<div class="main-content hidden" id="main-content">
    
    <div id="home" class="section">
        <h1 id="welcome-msg">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ.. ğŸ‘‹</h1>
        <input type="text" id="main-search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø§Ù„Ø¨ Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø±Ù‚Ù…..." onkeyup="renderAll()">
        <table>
            <thead><tr><th>Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th><th>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</th><th>Ø§Ù„Ù‚Ø³Ù…</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th></tr></thead>
            <tbody id="home-table"></tbody>
        </table>
    </div>

    <div id="registrar" class="section hidden">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h1>ğŸ‘¤ Ù…ÙƒØªØ¨ Ø§Ù„Ù…Ø³Ø¬Ù„</h1>
            <div>
                <button class="btn btn-dark" onclick="printGeneralReport()">ğŸ“Š Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ø§Ù…</button>
                <button class="btn btn-gold" onclick="toggleBox('add-box')">â• ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</button>
            </div>
        </div>
        <div id="add-box" class="section hidden" style="background:#f8fafc; border: 2px dashed #cbd5e1;">
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                <input type="text" id="st-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ">
                <select id="st-dept">
                    <option value="ØªÙ‚Ø§Ù†Ø© Ù†Ø¸Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª">ØªÙ‚Ø§Ù†Ø© Ù†Ø¸Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</option>
                    <option value="Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©">Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</option>
                </select>
                <input type="number" id="st-fee" placeholder="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø³ÙˆÙ…">
                <button class="btn btn-dark" onclick="submitToSQL()">ØªØ«Ø¨ÙŠØª ÙÙŠ SQL & Sheets</button>
            </div>
        </div>
        <table id="reg-table-full">
            <thead><tr><th>Ø§Ù„Ø±Ù‚Ù…</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù‚Ø³Ù…</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr></thead>
            <tbody id="reg-table"></tbody>
        </table>
    </div>

    <div id="finance" class="section hidden">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h1>ğŸ’° Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h1>
            <button class="btn btn-dark" onclick="printFinanceReport()">ğŸ’µ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠØ©</button>
        </div>
        <h3>ğŸ”” Ø¯ÙØ¹Ø§Øª Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯</h3>
        <div id="pending-list"></div>
        <hr>
        <h3>ğŸ“Š Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h3>
        <table id="fin-table-full">
            <thead><tr><th>Ø§Ù„Ø±Ù‚Ù…</th><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</th><th>Ø§Ù„Ù…Ø¯ÙÙˆØ¹</th><th>Ø·Ø¨Ø§Ø¹Ø©</th></tr></thead>
            <tbody id="fin-table"></tbody>
        </table>
    </div>

    <div id="admin-settings" class="section hidden">
        <h1>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</h1>
        <h3>ğŸ‘¤ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø£Ø¯Ù…Ù†)</h3>
        <div id="account-requests" style="background:#f1f5f9; padding:20px; border-radius:10px;">
            <p id="no-requests">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
        </div>
    </div>
</div>

<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
    const SUPABASE_URL = "https://xfbhnagbtwaiiitpeula.supabase.co";
    const SUPABASE_KEY = "https://xfbhnagbtwaiiitpeula.supabase.co"; // Ø¶Ø¹ Ù‡Ù†Ø§ Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Supabase
    const GOOGLE_SHEET_URL = "https://script.google.com/macros/s/AKfycbygpl9Z1q_0ueHewzVFka309H7YffqEZbKdqRj1uWFgw-XNAdg4RW7wgrfSTIQ2FJV4/exec";

    let db = [];
    let userRole = "";

    function handleLogin() {
        const email = document.getElementById('auth-email').value;
        const pass = document.getElementById('auth-pass').value;

        if(email === "admin@college.com" && pass === "123456") {
            userRole = "admin";
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('hidden'));
        } else if(email === "reg@college.com" && pass === "123456") {
            userRole = "reg";
            document.getElementById('nav-reg').classList.remove('hidden');
        } else if(email === "fin@college.com" && pass === "123456") {
            userRole = "fin";
            document.getElementById('nav-fin').classList.remove('hidden');
        } else { return alert("Ø®Ø·Ø£: ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø£Ø¯Ù…Ù†"); }

        document.getElementById('auth-screen').classList.add('hidden');
        document.getElementById('sidebar').classList.remove('hidden');
        document.getElementById('main-content').classList.remove('hidden');
        refreshData();
    }

    async function refreshData() {
        setLoad(true);
        try {
            const res = await fetch(`${SUPABASE_URL}/students?select=*`, {
                headers: { 'apikey': SUPABASE_KEY, 'Authorization': `Bearer ${SUPABASE_KEY}` }
            });
            const data = await res.json();
            db = data.map(s => ({
                id: s.student_id, name: s.full_name, dept: s.department,
                total: s.total_fees, paid: s.paid_fees, status: s.status, confirmed: s.is_confirmed
            }));
            renderAll();
        } catch(e) { showToast("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ SQL", "danger"); }
        setLoad(false);
    }

    function renderAll() {
        const q = document.getElementById('main-search').value.toLowerCase();
        
        // Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        document.getElementById('home-table').innerHTML = db.filter(s => s.name.toLowerCase().includes(q)).map(s => `
            <tr><td>${s.id}</td><td>${s.name}</td><td>${s.dept}</td>
            <td><span class="status-badge ${s.confirmed?'bg-success':'bg-danger'}">${s.status}</span></td></tr>
        `).join('');

        // Ø§Ù„Ù…Ø³Ø¬Ù„
        document.getElementById('reg-table').innerHTML = db.map(s => `
            <tr><td>${s.id}</td><td>${s.name}</td><td>${s.dept}</td><td>${s.confirmed?'âœ…':'â³'}</td>
            <td><button class="btn btn-outline" onclick="printReceipt('${s.id}')">ğŸ“„ Ø¥ÙŠØµØ§Ù„</button></td></tr>
        `).join('');

        // Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
        const pending = db.filter(s => !s.confirmed);
        document.getElementById('pending-list').innerHTML = pending.map(s => `
            <div style="background:#fffbeb; padding:15px; border-radius:10px; border:1px solid var(--gold); display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                <span>Ø§Ù„Ø·Ø§Ù„Ø¨: ${s.name} | Ø§Ù„Ù…Ø¨Ù„Øº: ${s.total} SDG</span>
                <button class="btn btn-gold" onclick="confirmPayment('${s.id}', ${s.total})">ØªØ£ÙƒÙŠØ¯ ÙˆØªØ­ØµÙŠÙ„</button>
            </div>
        `).join('') || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø§Ù„ÙŠØ©";

        document.getElementById('fin-table').innerHTML = db.map(s => `
            <tr><td>${s.id}</td><td>${s.name}</td><td>${s.total}</td><td>${s.paid || 0}</td>
            <td>${s.confirmed? `<button class="btn btn-dark" onclick="printReceipt('${s.id}')">ğŸ–¨ï¸</button>` : '---'}</td></tr>
        `).join('');
    }

    async function submitToSQL() {
        const name = document.getElementById('st-name').value;
        const dept = document.getElementById('st-dept').value;
        const fee = document.getElementById('st-fee').value;
        const id = (db.length + 2026001).toString();

        if(!name || !fee) return showToast("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©", "danger");

        setLoad(true);
        try {
            await fetch(`${SUPABASE_URL}/students`, {
                method: 'POST',
                headers: { 'apikey': SUPABASE_KEY, 'Content-Type': 'application/json' },
                body: JSON.stringify({ student_id: id, full_name: name, department: dept, total_fees: fee, status: 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©' })
            });
            await fetch(GOOGLE_SHEET_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({id, name, dept, fee}) });
            showToast("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­");
            toggleBox('add-box');
            refreshData();
        } catch(e) { showToast("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©", "danger"); }
        setLoad(false);
    }

    async function confirmPayment(id, amount) {
        setLoad(true);
        await fetch(`${SUPABASE_URL}/students?student_id=eq.${id}`, {
            method: 'PATCH',
            headers: { 'apikey': SUPABASE_KEY, 'Content-Type': 'application/json' },
            body: JSON.stringify({ paid_fees: amount, is_confirmed: true, status: 'Ù…Ø³Ø¬Ù„' })
        });
        refreshData();
        showToast("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ©");
    }

    function forgotPassword() {
        const email = prompt("Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:");
        if(email) alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ù„Ø£Ø¯Ù…Ù†. Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯.");
    }

    function requestNewAccount() {
        const name = prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨:");
        if(name) {
            alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø£Ø¯Ù…Ù† Ø¨Ù†Ø¬Ø§Ø­. ÙŠØ±Ø¬Ù‰ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ù„ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø¯Ø®ÙˆÙ„.");
        }
    }

    function printGeneralReport() {
        document.getElementById('print-title').innerText = "ØªÙ‚Ø±ÙŠØ± Ø´Ø¤ÙˆÙ† Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¹Ø§Ù…";
        document.getElementById('print-content').innerHTML = `<table>${document.getElementById('reg-table-full').innerHTML}</table>`;
        window.print();
    }

    function printFinanceReport() {
        document.getElementById('print-title').innerText = "Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ";
        document.getElementById('print-content').innerHTML = `<table>${document.getElementById('fin-table-full').innerHTML}</table>`;
        window.print();
    }

    function printReceipt(id) {
        const s = db.find(x => x.id == id);
        document.getElementById('print-title').innerText = "Ø¥ÙŠØµØ§Ù„ Ù…Ø§Ù„ÙŠ Ø±Ø³Ù…ÙŠ";
        document.getElementById('print-content').innerHTML = `
            <p>Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨: ${s.id}</p><p>Ø§Ù„Ø§Ø³Ù…: ${s.name}</p>
            <p>Ø§Ù„Ù‚Ø³Ù…: ${s.dept}</p><p>Ø§Ù„Ù…Ø¨Ù„Øº: ${s.paid || 0} SDG</p>
            <p>Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString()}</p>
        `;
        window.print();
    }

    function showSec(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
        document.getElementById(id).classList.remove('hidden');
    }
    function toggleBox(id) { document.getElementById(id).classList.toggle('hidden'); }
    function setLoad(s) { document.getElementById('loader').style.display = s ? 'flex' : 'none'; }
    function showToast(m, type="gold") {
        const t = document.getElementById('toast');
        t.innerText = m; t.style.display = 'block';
        t.style.background = type === "danger" ? "#e11d48" : "#0f172a";
        setTimeout(() => t.style.display = 'none', 3000);
    }
</script>
</body>
</html>

